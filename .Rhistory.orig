knitr::opts_chunk$set(echo = TRUE)
#add docstring
#use map functions if possible
# Uploading packages that we are going to use (add more if necessary)
library(readxl)           #reading an excel file
library(tidyverse)        #for ggplot2, magrittr pipes, dplyr, etc
library(quantmod)
# tests: data quality for currencies, proper format for dates, if newest data is not from today, inform the user that data is eg. from yesterday (report)
#get user input
currency1 <- readline(prompt = cat("What is the first currency?"))
currency2 <- readline(prompt = cat("What is the second currency?"))
startdate <- readline(prompt = cat("What is the start date?"))
finishdate <- readline(prompt = cat("What is the finish date date?"))
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
startdate <- "2017-09-01"
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
library(quantmod)
# tests: data quality for currencies, proper format for dates, if newest data is not from today, inform the user that data is eg. from yesterday (report)
#get user input
currency1 <- readline(prompt = cat("What is the first currency?"))
currency2 <- readline(prompt = cat("What is the second currency?"))
startdate <- readline(prompt = cat("What is the start date?"))
finishdate <- readline(prompt = cat("What is the finish date date?"))
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
#get user input
currency1 <- "NOK"
currency2 <- "EUR"
startdate <- "2020-06-07"
finishdate <- "today"
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
View(NOKEUR)
#get user input
currency1 <- "NOK"
currency2 <- "EUR"
startdate <- "2020-03-01"
finishdate <- "today"
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
library(gganimate)
library(gifski)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output%>%
ggplot(aes(x=EUR, y =NOK))+
geom_line()+
ylab("Stock price (NOK)")+
xlab("Observations")+
labs(title = "Stockprices of MOWI from 2017-2020")+
geom_point()+
geom_line()+
theme_classic()+
transition_reveal(date)
View(NOKEUR)
#get user input
currency1 <- "NOK"
currency2 <- "EUR"
startdate <- "2020-05-01"
finishdate <- "today"
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
View(NOKEUR)
output <- as.data.frame(output)
View(output)
View(NOKEUR)
output <- as.data.frame(NOKEUR)
View(output)
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- as.data.frame(getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE))
View(output)
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
output <- as.data.frame(NOKEUR)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output%>%
ggplot(aes(x=EUR, y =NOK))+
geom_line()+
ylab("Price (NOK)")+
xlab("Date")+
labs(title = "Exchange rates between NOK and EUR")+
geom_point()+
geom_line()+
theme_classic()+
transition_reveal(date)
View(plot)
mygif <- animate(PLOT2, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
# Plot NOK vs EUR
library(ggplot2)
library(tidyverse)
#get user input
currency1 <- "EUR"
currency2 <- "NOK"
startdate <- "2020-05-01"
finishdate <- "today"
currency <- gsub(" ", "", paste(currency1,"/",currency2, sep = ""), fixed = TRUE)
finishdate <- "today"
if (finishdate == "today"){
finishdate <- Sys.Date()
}
#use pricer package instead of quantmod?
#https://stackoverflow.com/questions/26694042/how-to-get-currency-exchange-rates-in-r
output <- getFX(currency,
from = startdate, to = finishdate,
env = .GlobalEnv,
verbose = FALSE,
warning = TRUE,
auto.assign = TRUE)
<<<<<<< HEAD
output <- as.data.frame(NOKEUR)
View(output)
View(EURNOK)
output <- as.data.frame(EURNOK)
View(output)
# install.packages("priceR")
library(priceR)
install.packages("priceR")
# install.packages("priceR")
library(priceR)
output <- historical_exchange_rates("AUD", to = "USD",
start_date = "2010-01-01", end_date = "2020-11-21")
View(output)
output <- historical_exchange_rates("EUR", to = "NOK",
start_date = "2010-01-01", end_date = "2020-11-21")
output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = aud_to_usd, group = 1)) +
geom_line() +
geom_smooth(method = 'loess') +
theme(axis.title.x=element_blank(),
axis.ticks.x=element_blank()) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year")
output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess') +
theme(axis.title.x=element_blank(),
axis.ticks.x=element_blank()) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year")
View(output)
output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess') +
theme(axis.title.x=element_blank(),
axis.ticks.x=element_blank()) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year")
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
View(plot)
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
anim_save(filename="animation.gif", mygif)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)+
scale_x_date(date_labels = "%Y", date_breaks = "1 year")
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
anim_save(filename="EUR/NOK.gif", mygif)
anim_save(filename="animation.gif", mygif)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# import the priceR package
library(priceR)
output <- historical_exchange_rates("EUR", to = "NOK",
start_date = "2020-01-01", end_date = "2020-11-21")
View(output)
# Plot EUR vs NOK
library(ggplot2)
library(tidyverse)
library(gganimate)
library(gifski)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
output <- historical_exchange_rates("EUR", to = "NOK",
start_date = "2018-01-01", end_date = "2020-11-21")
output <- historical_exchange_rates("EUR", to = "NOK",
start_date = "2018-01-01", end_date = "2020-11-21")
# Plot EUR vs NOK
library(ggplot2)
# Plot EUR vs NOK
library(ggplot2)
library(tidyverse)
library(gganimate)
library(gifski)
# Need to look closer how to make the output as a data frame so we can use it
# in the ggplot function and gif
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=TRUE))
anim_save(filename="animation.gif", mygif)
plot <- output %>%
tail(365 * 10)
View(plot)
plot <- output
View(plot)
# making the plot
plot <- output %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# making the plot
plot <- output %>%
tail(365 * 10) %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# making the plot
plot <- output %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# making the plot
plot <- output %>%
rename(EUR_to_NOK = one_EUR_equivalent_to_x_NOK) %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = EUR_to_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# producing the GIF
mygif <- animate(plot, renderer=gifski_renderer(loop=FALSE))
# saving the GIF
anim_save(filename="animation.gif", mygif)
# producing the GIF
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=FALSE))
# saving the GIF
anim_save(filename="animation.gif", mygif)
# making the plot
plot <- output %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = one_EUR_equivalent_to_x_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_time(date)
# producing the GIF
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=FALSE))
install.packages("transformr")
library(transformr)
# producing the GIF
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=FALSE))
# saving the GIF
anim_save(filename="animation.gif", mygif)
# making the plot
plot <- output %>%
mutate(date = as.Date(date)) %>%
ggplot(aes(x = date, y = one_EUR_equivalent_to_x_NOK, group = 1)) +
geom_line() +
geom_smooth(method = 'loess')+
ylab("Price of one EUR in NOK")+
xlab("Date")+
labs(title = "Exchange rates between EUR and NOK")+
theme_classic()+
transition_reveal(date)
# producing the GIF
mygif <- animate(plot, width=1600, height=800, renderer=gifski_renderer(loop=FALSE))
=======
View(DKKNOK)
?getFX()
?dateRangeInput
knitr::opts_chunk$set(echo = TRUE)
#add docstring
#use map functions if possible
# Uploading packages that we are going to use (add more if necessary)
library(readxl)           #reading an excel file
library(tidyverse)        #for ggplot2, magrittr pipes, dplyr, etc
#include input and output boxes and report on data quality
library(shiny) # shiny package required to build the app
#user interface part of the app - the website that the user uses
ui <- fluidPage(
#input functions
textInput(inputId = "currency1",
label = "What is the first currency?",
value = "",
width = "70px",
placeholder = "EUR"
),
textInput(inputId = "currency2",
label = "What is the second currency?",
value = "",
width = "70px",
placeholder = "NOK"
),
dateRangeInput(inputId = "dates",
label = "What time period do you want to look at?",
start = "2000-01-01",
max = Sys.Date(),
format = "dd-mm-yyyy",
startview = "decade",
weekstart = "1"
),
#output functions
textOutput(outputId = "text_rate"),
textOutput(outputId = "text_report"),
plotOutput(outputId = "plot")
)
#server instructions part of the app
server <- function(input, output) {}
#create the shiny app from the UI and the server parts
shinyApp(ui = ui, server = server)
?dateRangeInput
#include input and output boxes and report on data quality
library(shiny) # shiny package required to build the app
#user interface part of the app - the website that the user uses
ui <- fluidPage(
#input functions
textInput(inputId = "currency1",
label = "What is the first currency?",
value = "",
width = "70px",
placeholder = "EUR"
),
textInput(inputId = "currency2",
label = "What is the second currency?",
value = "",
width = "70px",
placeholder = "NOK"
),
dateRangeInput(inputId = "dates",
label = "What time period do you want to look at?",
start = "2000-01-01",
end = NULL,
min = "2000-01-01",
max = Sys.Date(),
format = "dd-mm-yyyy",
startview = "decade",
weekstart = "1"
),
#output functions
textOutput(outputId = "text_rate"),
textOutput(outputId = "text_report"),
plotOutput(outputId = "plot")
)
#server instructions part of the app
server <- function(input, output) {}
#create the shiny app from the UI and the server parts
shinyApp(ui = ui, server = server)
>>>>>>> bcdfc75e4f843710cc91bf7cd60c6f760c7bd371
